<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>AI å‹•ç‰©çŸ­ç‰‡æç¤ºç”¢ç”Ÿå™¨ v3.0ï¼ˆUSA Realistic ä¸‰æ¬„ç‰ˆï¼‰</title>
<style>
  body{font-family:"Noto Sans TC",sans-serif;background:#0b0b0c;color:#e9eef3;margin:0}
  header{background:#111316;padding:16px;border-bottom:1px solid #222}
  h1{margin:0;font-size:20px}
  main{padding:16px;max-width:1200px;margin:auto}
  .controls{margin-bottom:12px}
  .btn{background:linear-gradient(135deg,#0891b2,#2563eb);color:#fff;border:none;border-radius:12px;padding:10px 14px;cursor:pointer;font-weight:600;width:100%}
  .grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(320px,1fr));gap:12px}
  .card{background:#15161a;border:1px solid #222;border-radius:16px;padding:12px;display:flex;flex-direction:column}
  .card h3{margin:0 0 8px 0;font-size:16px}
  textarea{flex:1;min-height:280px;background:#0f1114;color:#e9eef3;border:1px solid #2b3340;border-radius:10px;padding:10px;resize:none}
  .row{display:flex;gap:8px;margin-top:8px}
  .sm{flex:1;background:#222733}
  .meta{font-size:12px;color:#9fb2c8;margin-top:6px;line-height:1.45}
</style>
</head>
<body>
<header><h1>ğŸ¾ AI å‹•ç‰©çŸ­ç‰‡æç¤ºç”¢ç”Ÿå™¨ v3.0ï¼ˆUSA Realistic ä¸‰æ¬„ç‰ˆï¼‰</h1></header>
<main>
  <div class="controls">
    <button id="genAll" class="btn">âš¡ ä¸€éµç”Ÿæˆä¸‰çµ„çœŸå¯¦å‹•ç‰© Sora2 Promptï¼ˆUSA å¸¸è¦‹çµ„åˆï¼‰</button>
  </div>

  <div class="grid">
    <div class="card">
      <h3>åŠ‡æƒ… 1</h3>
      <textarea id="out1" placeholder="Prompt 1..."></textarea>
      <div class="row">
        <button class="btn sm" onclick="copyOne('out1')">ğŸ“‹ è¤‡è£½æ­¤æ®µ</button>
      </div>
      <div class="meta" id="meta1"></div>
    </div>
    <div class="card">
      <h3>åŠ‡æƒ… 2</h3>
      <textarea id="out2" placeholder="Prompt 2..."></textarea>
      <div class="row">
        <button class="btn sm" onclick="copyOne('out2')">ğŸ“‹ è¤‡è£½æ­¤æ®µ</button>
      </div>
      <div class="meta" id="meta2"></div>
    </div>
    <div class="card">
      <h3>åŠ‡æƒ… 3</h3>
      <textarea id="out3" placeholder="Prompt 3..."></textarea>
      <div class="row">
        <button class="btn sm" onclick="copyOne('out3')">ğŸ“‹ è¤‡è£½æ­¤æ®µ</button>
      </div>
      <div class="meta" id="meta3"></div>
    </div>
  </div>
</main>

<script>
/* ===== åŸºç¤è³‡æ–™ï¼šåªç”¨ç¾åœ‹å¸¸è¦‹çµ„åˆ ===== */
const tones = ["Dramatic","Epic","Tense"]; // éš¨æ©Ÿ
const cameraStyles = [
  "cinematic handheld",
  "low-angle tracking",
  "hidden camera security footage style"
];
const triggers = [
  {k:"Bark", line: p => `The ${p.pet} suddenly barks, then`},
  {k:"Loud Noise", line: _ => `Suddenly a loud metallic clatter rings out, then`},
  {k:"Water Splash", line: _ => `Suddenly water splashes from the edge, then`},
  {k:"Sudden Motion", line: _ => `A burst of sudden motion from nearby leaves startles it, then`}
];
const intensities = ["Mild","Normal","Extreme"]; // åè½‰å¼·åº¦

/* å ´æ™¯é è¨­ï¼ˆç¾åœ‹éƒŠå€ï¼‰ */
const presets = [
  {
    name: "Suburban Backyard",
    places: ["quiet suburban yard","wooden fence","patio","grass lawn"],
    predators: ["coyote","fox","raccoon","bobcat","black bear","deer"],
    pets: ["golden retriever","husky","corgi","cat"],
    typical: [
      ["coyote","dog"],["coyote","cat"],["fox","rooster"],["fox","cat"],
      ["raccoon","cat"],["bobcat","dog"],["deer","dog"],["deer","cat"]
    ]
  },
  {
    name: "Poolside Patio",
    places: ["backyard swimming pool","poolside patio","wet tiles"],
    predators: ["coyote","raccoon","bobcat","deer","black bear"],
    pets: ["golden retriever","husky","corgi","cat"],
    typical: [["coyote","dog"],["raccoon","cat"],["bobcat","dog"],["deer","dog"]]
  },
  {
    name: "Farmyard",
    places: ["small farmyard","chicken coop","gravel path","barn fence"],
    predators: ["fox","coyote","raccoon","bobcat"],
    pets: ["rooster","cat","dog"],
    typical: [["fox","rooster"],["raccoon","cat"],["coyote","dog"],["bobcat","dog"]]
  },
  {
    name: "Forest Edge",
    places: ["forest edge","leafy clearing","dirt path"],
    predators: ["bobcat","black bear","coyote","fox","deer"],
    pets: ["dog","cat"],
    typical: [["bobcat","dog"],["coyote","dog"],["fox","cat"],["deer","dog"]]
  },
  {
    name: "Driveway",
    places: ["driveway","front yard","garage area"],
    predators: ["coyote","raccoon","black bear","fox","bobcat"],
    pets: ["dog","cat"],
    typical: [["coyote","dog"],["raccoon","cat"],["black bear","dog"],["fox","cat"]]
  }
];

function pick(arr){ return arr[Math.floor(Math.random()*arr.length)]; }

/* ä¾å ´æ™¯ç”¢ç”Ÿåˆç†çš„æ é£Ÿè€…èˆ‡å°æ‰‹ */
function pickActors(preset){
  // 7æˆæ©Ÿç‡ä½¿ç”¨ typical é…å°ï¼Œ3æˆè‡ªç”±é¸
  if (Math.random()<0.7) {
    const [predKey, petKey] = pick(preset.typical);
    return mapKeysToNames(predKey, petKey);
  } else {
    const pred = pick(preset.predators);
    const pet = pick(preset.pets);
    return { predator: normalizePred(pred), pet: normalizePet(pet) };
  }
}

function mapKeysToNames(predKey, petKey){
  return { predator: normalizePred(predKey), pet: normalizePet(petKey) };
}
function normalizePred(k){
  const m = {
    "black bear":"black bear",
    "bobcat":"bobcat",
    "coyote":"coyote",
    "fox":"fox",
    "raccoon":"raccoon",
    "deer":"deer"
  };
  return m[k] || k;
}
function normalizePet(k){
  const m = {
    "dog":"dog",
    "cat":"cat",
    "rooster":"rooster",
    "golden retriever":"golden retriever",
    "husky":"husky",
    "corgi":"corgi"
  };
  return m[k] || k;
}

/* ä¾åè½‰å¼·åº¦çµ¦å‹•ä½œè© */
function reversalMoves(intensity, predator){
  if (intensity==="Mild") {
    return `${predator} flinches, steps back, and trots away`;
  } else if (intensity==="Extreme") {
    return `${predator} jumps back, slips hard, tumbles over a chair, and bolts off in panic`;
  }
  // Normal
  return `${predator} jumps back, slips on the ground, and scrambles away`;
}

/* ä¾é¡é ­é¢¨æ ¼èª¿æ•´æ•˜è¿° */
function cameraLine(style){
  if (style.includes("security")) {
    return "captured in hidden camera security footage style";
  }
  if (style.includes("low-angle")) {
    return "the camera tracks low near the ground";
  }
  // cinematic handheld
  return "the camera shakes slightly in cinematic handheld motion";
}

/* ç”¢ç”Ÿå–®ä¸€ Promptï¼ˆè‹±æ–‡ï¼Œä¸‰å¥ï¼‹å›ºå®šçµå°¾ï¼‰ */
function makePrompt(){
  const preset   = pick(presets);
  const place    = pick(preset.places);
  const tone     = pick(tones);
  const style    = pick(cameraStyles);
  const trig     = pick(triggers);
  const level    = pick(intensities);
  const {predator, pet} = pickActors(preset);

  // é–‹å ´ï¼ˆ0-3sï¼‰
  const s1 = `Soft morning sunlight glows over a ${place} where a ${pet} rests quietly.`;

  // å¼µåŠ›ï¼ˆ4-6sï¼‰
  const cam = cameraLine(style);
  const s2 = `From behind the bushes, a ${predator} cautiously steps forward; ${cam} as tension builds.`;

  // åè½‰ï¼ˆ7-9sï¼‰ï¼ŒåŠ å…¥ then/after/suddenly é€£æ¥è©
  const move = reversalMoves(level, `the ${predator}`);
  const s3 = `${trig.line({pet})} after a heartbeat, ${move} as leaves scatter in slow motion.`;

  // çµå°¾ï¼ˆ10sï¼‰
  const end = `Perfect for a 10-second vertical cinematic shot filmed in a single continuous take, no cuts.`;

  const prompt = `${s1}\n${s2}\n${s3}\n${end}`;
  const meta = `Location: ${preset.name} ï½œ Tone: ${tone} ï½œ Camera: ${style} ï½œ Trigger: ${trig.k} ï½œ Reversal: ${level} ï½œ Pair: ${predator} vs ${pet}`;
  return {prompt, meta};
}

/* ç”Ÿæˆä¸‰çµ„ï¼Œå¡«å…¥ä¸‰æ¬„ */
function generateAll(){
  const a = makePrompt(), b = makePrompt(), c = makePrompt();
  document.getElementById('out1').value = a.prompt;
  document.getElementById('meta1').innerText = a.meta;
  document.getElementById('out2').value = b.prompt;
  document.getElementById('meta2').innerText = b.meta;
  document.getElementById('out3').value = c.prompt;
  document.getElementById('meta3').innerText = c.meta;
}

function copyOne(id){
  const el = document.getElementById(id);
  el.select(); el.setSelectionRange(0, 99999);
  navigator.clipboard.writeText(el.value);
  alert('å·²è¤‡è£½ï¼');
}

document.getElementById('genAll').onclick = generateAll;
</script>
</body>
</html>
